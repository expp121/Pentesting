# MySQL Wars
MySQL contains several SQL Injection examples. Some are really hard


## Building/starting/stopping MySQL wars
This is a Docker container that contains a docker-compose file. You can build the Docker image and start the
container with the following command (in this directory):

```
sudo docker-compose up -d
```

**Important** 
If building the image fails, try to rebuild it with a clean cache:

```
sudo docker-compose build --no-cache
```


After that, you can access the web server under the following URL:

```
http://localhost:4055
```

Use the following command to stop the container (again, in this directory)

```
sudo docker compose down
```


## Task descriptions

**Attention**:  
MySQL Wars is a challenge containing three different challenges. Each challenge can be solved separately. **The path behind each challenge title is a subdirectory on the web server!**

## Storm Trooper School (/stormtrooperschool)

You are in stormtrooper training but forgot to learn for your exams. Compromise the instructor panel to gain access to the examination papers, so that you can "prepare" yourself.

- Bypass the authentication. Write down the flag and your actions 
- What hash format is used to store the passwords in the database? How can you detect the hash format even if you don't have access to the database itself? 
- Extract the password hash of the "imperator" account. 


## Jabba the Hutt (/jabbathehutt)

Jabba moved into the Bot-/Trojan Business and has a Command and Control (C&C) panel that allows him to control his bots. You can find a copy of his trojan in the directory (filename: jabba.zip). The trojan runs on 64bit Linux. The bot will connect to the server and download new instructions.

**Important:** The trojan tries to connect to a specific DNS name that does not exist. You must add a matching entry to your /etc/hosts file, otherwise the trojan won't work as expected.



- Write down the hostname that is used by the bot to call home. 
- Write down the URLs that are used by the bot for self-registration and to retrieve new commands. You can use Wireshark for that. 
- Identify all existing subdirectories and PHP files in the directory. Which script is used to access the C&C backend? 

Identify a SQL injection vulnerability and exploit it to extract the password hashes of the C&C backend. You are not allowed to use automated tools like SQLMap for this task.

- Which database account is used to access the database?
- What is the name of the user table?
- Write down the column names of the table
- Which hash algorithm is used to store the passwords?
- Gain access to the C&C backend. Write down the displayed flag


You can also crack the passwords with John the Ripper (JtR).

- Write down the commands for JtR and/or creation of the input files. 
- Write down the cracked password for each user. 



## Escape from Kessel (/kessel)
You are part of a mission that wants to rescue a rebel member from the prison planet "Kessel". You already gained access to the admin board of the prison, but the account does not have the permissions to open prison doors.


Username: Eth Koth 
Password: hi_i_am_eth 

Identify a vulnerability in the prison control panel that allows you to gain administrative access. Open the door of the captured wookie (Rorwroor). 

- Describe your actions.
- Write down the flag?
